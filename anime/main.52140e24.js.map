{"version":3,"sources":["code.js","main.js"],"names":["code","module","exports","normalSpeed","quadraSpeed","hexaSpeed","figureElement","document","querySelector","moveEyeballs","e","pupils","querySelectorAll","isTouchEvent","type","clientX","touches","clientY","left","Math","max","min","offsetLeft","clientWidth","top","offsetTop","clientHeight","forEach","item","style","addEventListener","stringBuffer","index","finished","interval","printHTML","codeContent","innerHTML","codeStyle","substr","scrollToContent","length","stop","window","scrollTo","body","scrollHeight","play","setInterval","btnPlay","disabled","btnPause","clearInterval","id","onclick","btnSkip","replace","btnNormalSpeed","btnQuadraSpeed","btnHexaSpeed"],"mappings":";AAAA,IAAMA,EAAN,ggOAqaAC,OAAOC,QAAUF;;ACnUjB,aAlGA,IAAA,EAAA,EAAA,QAAA,cAkGA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAhGA,IAAMG,EAAc,GACdC,EAAc,GACdC,EAAY,EAEZC,EAAgBC,SAASC,cAAc,WAI7C,SAASC,EAAcC,GACfC,IAAAA,EAASJ,SAASK,iBAAiB,UACnCC,EAA0B,cAAXH,EAAEI,KACjBC,EAAUF,EAAeH,EAAEM,QAAQ,GAAGD,QAAUL,EAAEK,QAClDE,EAAUJ,EAAeH,EAAEM,QAAQ,GAAGC,QAAUP,EAAEO,QAClDC,EAAOC,KAAKC,IAAI,GAAKD,KAAKE,KAAKN,EAAUT,EAAcgB,YAAchB,EAAciB,YAAa,MAChGC,EAAML,KAAKC,IAAI,GAAKD,KAAKE,KAAKJ,EAAUX,EAAcmB,WAAanB,EAAcoB,aAAc,KACrGf,EAAOgB,QAAQ,SAAAC,GACbA,EAAKC,MAAMX,KAAUA,GAAAA,OAAK,IAALA,EAArB,KACAU,EAAKC,MAAML,IAASA,GAAAA,OAAI,IAAJA,EAApB,OAZJlB,EAAcwB,iBAAiB,YAAarB,GAC5CH,EAAcwB,iBAAiB,YAAarB,GAe5C,IAAIsB,EAAe,GACfC,EAAQ,EAERC,GAAW,EAEXC,EAAW/B,EAETgC,EAAY,WAChBJ,GAAgC,OAAhB/B,EAAKgC,QAAAA,GAAkB,OACpB,MAAhBhC,EAAKgC,QAAAA,GAAkB,SAAWhC,EAAKgC,QAAAA,GAC1CI,YAAYC,UAAYN,EACxBO,UAAUD,UAAYrC,EAAKuC,QAAAA,OAAO,EAAGP,EAAM,GAC3CQ,IACIR,EAAQhC,EAAKyC,QAAAA,OAAS,EACxBT,KAEAC,GAAW,EACXS,MAIEF,EAAkB,WACtBG,OAAOC,SAAS,EAAGrC,SAASsC,KAAKC,cACjCvC,SAASC,cAAc,wBAAwBoC,SAAS,EAAGR,YAAYU,eAGnEC,EAAO,SAACb,GAGLc,OAFPC,QAAQC,UAAW,EACnBC,SAASD,UAAW,EACbF,YAAYb,EAAWD,IAG1BQ,EAAO,WACXC,OAAOS,cAAcC,GACrBJ,QAAQC,UAAW,EACnBC,SAASD,UAAW,GAGtBD,QAAQC,UAAW,EACnB,IAAIG,EAAKN,EAAKb,GAEdiB,SAASG,QAAU,WACjBZ,KAGFO,QAAQK,QAAU,WACZrB,IACFD,EAAQ,EACRD,EAAe,GACfE,GAAW,GAEboB,EAAKN,EAAKb,IAGZqB,QAAQD,QAAU,WAChBZ,IACAN,YAAYC,UAAYrC,EAAKwD,QAAAA,QAAQ,MAAO,QAAQA,QAAQ,KAAM,UAClElB,UAAUD,UAAYrC,EAAtB,QACAwC,IAEAP,GAAW,GAGbwB,eAAeH,QAAU,WACvBZ,IAEAW,EAAKN,EADLb,EAAW/B,IAIbuD,eAAeJ,QAAU,WACvBZ,IAEAW,EAAKN,EADLb,EAAW9B,IAIbuD,aAAaL,QAAU,WACrBZ,IAEAW,EAAKN,EADLb,EAAW7B","file":"main.52140e24.js","sourceRoot":"..\\src","sourcesContent":["const code = `/* 动态展示Doraemon给你\r\n * 首先设置一个背景色\r\n */\r\nbody {\r\n  background-color: rgb(212, 235, 249);\r\n}\r\n/*\r\n * 画出Doraemon头部\r\n */\r\n.head {\r\n  border: var(--border-style);\r\n  height: 140px;\r\n  width: 152px;\r\n  border-radius: 50%;\r\n  background-color: var(--doraemon-blue);\r\n  position: absolute;\r\n  left: 50%;\r\n  margin-left: -76px;\r\n  top: 32px;\r\n  z-index: 5;\r\n}\r\n/*\r\n * 画出眼睛和鼻子\r\n */\r\n.eye {\r\n  border: var(--border-style);\r\n  height: 50px;\r\n  width: 40px;\r\n  border-radius: 50%;\r\n  background-color: white;\r\n  position: absolute;\r\n  top: 7px;\r\n  left: 50%;\r\n  z-index: 2;\r\n}\r\n\r\n.eye.left {\r\n  margin-left: -40px;\r\n}\r\n\r\n.pupil {\r\n  height: 18px;\r\n  width: 12px;\r\n  border-radius: 50%;\r\n  background-color: black;\r\n  position: absolute;\r\n  top: 17px;\r\n}\r\n.pupil::before {\r\n  content: '';\r\n  height: 6px;\r\n  width: 4px;\r\n  border-radius: 50%;\r\n  background-color: white;\r\n  position: absolute;\r\n  top: 6px;\r\n  left: 4px;\r\n}\r\n\r\n.pupil.left {\r\n  right: 3px;\r\n}\r\n.pupil.right {\r\n left: 3px;\r\n}\r\n\r\n.nose {\r\n  border: var(--border-style);\r\n  height: 24px;\r\n  width: 24px;\r\n  border-radius: 50%;\r\n  background-color: var(--doraemon-red);\r\n  position: absolute;\r\n  top: 42px;\r\n  left: 50%;\r\n  margin-left: -12px;\r\n  z-index: 3;\r\n}\r\n.nose::before {\r\n  content: '';\r\n  height: 8px;\r\n  width: 8px;\r\n  border-radius: 50%;\r\n  background-color: white;\r\n  position: absolute;\r\n  top: 3px;\r\n  left: 3px;\r\n}\r\n/*\r\n * 画出脸颊\r\n */\r\n.cheek {\r\n  border: var(--border-style);\r\n  height: 110px;\r\n  width: 140px;\r\n  border-radius: 50% 50% 60% 60%;\r\n  background-color: white;\r\n  position: absolute;\r\n  top: 27px;\r\n  left: 4px;\r\n}\r\n/*\r\n * 画出胡须和嘴巴\r\n */\r\n.moustache {\r\n  border-left: var(--border-style);\r\n  width: 10px;\r\n  height: 40px;\r\n  position: absolute;\r\n  left: 50%;\r\n  margin-left: -1px;\r\n  top: 50px;\r\n  z-index: 2;\r\n}\r\n\r\n.whisker {\r\n  border-bottom: var(--border-style);\r\n  height: 10px;\r\n  border-radius: 50%;\r\n  position: absolute;\r\n  left: 50%;\r\n  z-index: 2;\r\n}\r\n.whisker.left1 {\r\n  width: 40px;\r\n  margin-left: -66px;\r\n  top: 44px;\r\n  transform: rotate(25deg);\r\n}\r\n.whisker.right1 {\r\n  width: 40px;\r\n  margin-left: 25px;\r\n  top: 44px;\r\n  transform: rotate(-25deg);\r\n}\r\n.whisker.left2 {\r\n  width: 44px;\r\n  margin-left: -70px;\r\n  top: 52px;\r\n  transform: rotate(15deg);\r\n}\r\n.whisker.right2 {\r\n  width: 44px;\r\n  margin-left: 26px;\r\n  top: 52px;\r\n  transform: rotate(-15deg);\r\n}\r\n.whisker.left3 {\r\n  width: 48px;\r\n  margin-left: -74px;\r\n  top: 60px;\r\n  transform: rotate(5deg);\r\n}\r\n.whisker.right3 {\r\n  width: 48px;\r\n  margin-left: 26px;\r\n  top: 60px;\r\n  transform: rotate(-5deg);\r\n}\r\n\r\n.mouth {\r\n  border: var(--border-style);\r\n  width: 112px;\r\n  height: 56px;\r\n  border-radius: 0 0 100px 100px;\r\n  background-color: var(--doraemon-red);\r\n  position: absolute;\r\n  left: 50%;\r\n  margin-left: -56px;\r\n  top: 74px;\r\n  z-index: 4;\r\n  overflow: hidden;\r\n}\r\n\r\n.tongue {\r\n  width: 60px;\r\n  height: 60px;\r\n  background-color: var(--tongue-color);\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 15px;\r\n}\r\n.tongue.left {\r\n  margin-left: -50px;\r\n  border-radius: 50% 50% 0 0;\r\n}\r\n.tongue.right {\r\n  margin-left: -10px;\r\n  border-radius: 50% 50% 0 0;\r\n}\r\n/*\r\n * 手和身体\r\n */\r\n.arm {\r\n  border: var(--border-style);\r\n  height: 90px;\r\n  width: 50px;\r\n  background-color: var(--doraemon-blue);\r\n  border-radius: 50%;\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 97px;\r\n  z-index: 3;\r\n}\r\n.arm.left {\r\n  margin-left: -95px;\r\n  transform: rotate(-35deg);\r\n}\r\n.arm.right {\r\n  margin-left: 45px;\r\n  transform: rotate(35deg);\r\n}\r\n\r\n.hand {\r\n  border: var(--border-style);\r\n  background-color: white;\r\n  width: 56px;\r\n  height: 56px;\r\n  border-radius: 50%;\r\n  position: absolute;\r\n  top: 92px;\r\n  left: 50%;\r\n  z-index: 4;\r\n}\r\n.hand.left {\r\n  margin-left: -110px; \r\n}\r\n.hand.right {\r\n  margin-left: 54px;\r\n}\r\n\r\n.body {\r\n  border: var(--border-style);\r\n  height: 140px;\r\n  width: 120px;\r\n  border-radius: 48%;\r\n  background-color: var(--doraemon-blue);\r\n  position: absolute;\r\n  top: 112px;\r\n  left: 50%;\r\n  margin-left: -60px;\r\n  z-index: 1;\r\n}\r\n\r\n.body-white {\r\n  border: var(--border-style);\r\n  height: 80px;\r\n  width: 88px;\r\n  border-radius: 40% 40% 50% 50%;\r\n  background-color: white;\r\n  position: absolute;\r\n  bottom: 6px;\r\n  left: 50%;\r\n  margin-left: -44px; \r\n}\r\n/*\r\n * 加一个四次元百宝袋\r\n */\r\n.pocket {\r\n  border: var(--border-style);\r\n  background-color: white;\r\n  width: 72px;\r\n  height: 36px;\r\n  border-radius: 0 0 100px 100px;\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 38px;\r\n  margin-left: -36px;\r\n}\r\n/*\r\n * 画上腿\r\n */\r\n.leg {\r\n  border: var(--border-style);\r\n  height: 80px;\r\n  width: 50px;\r\n  border-radius: 50%;\r\n  background-color: white;\r\n  position: absolute;\r\n  top: 188px;\r\n  left: 50%;\r\n}\r\n.leg.left {\r\n  margin-left: -50px;\r\n}\r\n/*\r\n * 加上小铃铛\r\n */\r\n.choker {\r\n  border: var(--border-style);\r\n  background-color: var(--doraemon-red);\r\n  height: 80px;\r\n  width: 100px;\r\n  border-radius: 40px;\r\n  position: absolute;\r\n  left: 50%;\r\n  margin-left: -50px;\r\n  top: 99px;\r\n  z-index: 4;\r\n}\r\n\r\n.bell {\r\n  border: var(--border-style);\r\n  background-color: var(--bell-color);\r\n  width: 28px;\r\n  height: 28px;\r\n  border-radius: 50%;\r\n  position: absolute;\r\n  left: 50%;\r\n  margin-left: -14px;\r\n  top: 174px;\r\n  z-index: 5;\r\n  overflow: hidden;\r\n  animation: bell-animation 1.4s infinite linear;\r\n}\r\n\r\n.bell .circle {\r\n  border: var(--border-style);\r\n  width: 8px;\r\n  height: 8px;\r\n  border-radius: 50%;\r\n  background-color: grey;\r\n  position: absolute;\r\n  left: 50%;\r\n  margin-left: -4px;\r\n  top: 12px;\r\n  z-index: 2;\r\n}\r\n\r\n.bell .rect {\r\n  width: 4px;\r\n  height: 10px;\r\n  background-color: black;\r\n  position: absolute;\r\n  left: 50%;\r\n  margin-left: -2px;\r\n  top: 16px;\r\n  z-index: 1;\r\n}\r\n\r\n.bell .band {\r\n  border-bottom: var(--border-style);\r\n  height: 8px;\r\n  width: 36px;\r\n  border-radius: 50%;\r\n  background-color: transparent;\r\n  position: absolute;\r\n  left: 50%;\r\n  margin-left: -18px;\r\n}\r\n.bell .band.top {\r\n  top: -1px;\r\n}\r\n.bell .band.bottom {\r\n  top: 3px;\r\n}\r\n@keyframes bell-animation {\r\n  0%, 32%, 40%, 48%, 56%, 64%, 76%, 84%, 92%, 100% {\r\n    transform: rotate(0deg);\r\n    transform-origin: top center;\r\n  }\r\n  36%, 52%, 72%, 88% {\r\n    transform: rotate(30deg);\r\n    transform-origin: top center;\r\n  }\r\n  44%, 60%, 80%, 96% {\r\n    transform: rotate(-30deg);\r\n    transform-origin: top center;\r\n  }\r\n}\r\n/*\r\n * 补上竹蜻蜓\r\n */\r\n.hopter .semi-circle {\r\n  border: var(--border-style);\r\n  background-color: var(--bell-color);\r\n  width: 16px;\r\n  height: 8px;\r\n  border-radius: 50px 50px 0 0;\r\n  position: absolute;\r\n  left: 50%;\r\n  margin-left: -8px;\r\n  top: 26px;\r\n  z-index: 2;\r\n}\r\n\r\n.hopter .rect {\r\n  border: var(--border-style);\r\n  background-color: var(--bell-color);\r\n  width: 8px;\r\n  height: 36px;\r\n  border-radius: 5px;\r\n  position: absolute;\r\n  left: 50%;\r\n  margin-left: -4px;\r\n}\r\n\r\n.hopter .plate {\r\n  height: 5px;\r\n  width: 100px;\r\n  border-radius: 5px;\r\n  background-color: grey;\r\n  opacity: 0.95;\r\n  position: absolute;\r\n  left: 50%;\r\n  margin-left: -50px;\r\n  z-index: 2;\r\n  animation: hopter-animation 0.2s infinite linear;\r\n}\r\n/*\r\n * 最后加上动画\r\n */\r\n@keyframes doraemon-animation {\r\n  0%, 40%, 80%, 100% {\r\n    transform: translateY(0px);\r\n  }\r\n  20%, 60% {\r\n    transform: translateY(-30px);\r\n  }\r\n}`;\r\n\r\nmodule.exports = code;","import code from './code.js';\r\n\r\nconst normalSpeed = 80;\r\nconst quadraSpeed = 20;\r\nconst hexaSpeed = 5;\r\n\r\nconst figureElement = document.querySelector(\".figure\");\r\nfigureElement.addEventListener(\"touchmove\", moveEyeballs);\r\nfigureElement.addEventListener(\"mousemove\", moveEyeballs);\r\n\r\nfunction moveEyeballs (e) {\r\n  const pupils = document.querySelectorAll(\".pupil\");\r\n  const isTouchEvent = e.type === 'touchmove';\r\n  const clientX = isTouchEvent ? e.touches[0].clientX : e.clientX;\r\n  const clientY = isTouchEvent ? e.touches[0].clientY : e.clientY;\r\n  const left = Math.max(0.1, Math.min((clientX - figureElement.offsetLeft) / figureElement.clientWidth, 0.55));\r\n  const top = Math.max(0.1, Math.min((clientY - figureElement.offsetTop) / figureElement.clientHeight, 0.5));\r\n  pupils.forEach(item => {\r\n    item.style.left = `${left*100}%`;\r\n    item.style.top = `${top*100}%`;\r\n  });\r\n};\r\n\r\nlet stringBuffer = \"\";\r\nlet index = 0;\r\n\r\nlet finished = false;\r\n\r\nlet interval = normalSpeed;\r\n\r\nconst printHTML = () => {\r\n  stringBuffer += code[index] === \"\\n\" ? \"<br>\" :\r\n    (code[index] === \" \") ? \"&nbsp;\" : code[index];\r\n  codeContent.innerHTML = stringBuffer;\r\n  codeStyle.innerHTML = code.substr(0, index+1);\r\n  scrollToContent();\r\n  if (index < code.length - 1) {\r\n    index ++;\r\n  } else {\r\n    finished = true;\r\n    stop();\r\n  }\r\n};\r\n\r\nconst scrollToContent = ()=> {\r\n  window.scrollTo(0, document.body.scrollHeight);\r\n  document.querySelector(\"#codeContent-wrapper\").scrollTo(0, codeContent.scrollHeight);\r\n};\r\n\r\nconst play = (interval)=> {\r\n  btnPlay.disabled = true;\r\n  btnPause.disabled = false;\r\n  return setInterval(printHTML, interval);\r\n}\r\n\r\nconst stop = ()=> {\r\n  window.clearInterval(id);\r\n  btnPlay.disabled = false;\r\n  btnPause.disabled = true;\r\n};\r\n\r\nbtnPlay.disabled = true;\r\nlet id = play(interval);\r\n\r\nbtnPause.onclick = ()=> {\r\n  stop();\r\n};\r\n\r\nbtnPlay.onclick = ()=> {\r\n  if (finished) {\r\n    index = 0;\r\n    stringBuffer = \"\";\r\n    finished = false;\r\n  }\r\n  id = play(interval);\r\n};\r\n\r\nbtnSkip.onclick = ()=> {\r\n  stop();\r\n  codeContent.innerHTML = code.replace(/\\n/g, \"<br>\").replace(/ /g, \"&nbsp;\");\r\n  codeStyle.innerHTML = code;\r\n  scrollToContent();\r\n\r\n  finished = true;\r\n}\r\n\r\nbtnNormalSpeed.onclick = ()=> {\r\n  stop();\r\n  interval = normalSpeed;\r\n  id = play(interval);\r\n}\r\n\r\nbtnQuadraSpeed.onclick = ()=> {\r\n  stop();\r\n  interval = quadraSpeed;\r\n  id = play(interval);\r\n}\r\n\r\nbtnHexaSpeed.onclick = ()=> {\r\n  stop();\r\n  interval = hexaSpeed;\r\n  id = play(interval);\r\n}"]}